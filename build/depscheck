#!/usr/bin/env bash

source "$(dirname "$BASH_SOURCE")/lib/_shared.bash"
include "bl_env"

mkdir -v -p "$BL_LOCAL_PATH/bin"
safe_cd "$BL_EXT_PATH"

say "obtaining system prerequisites..."
#run "apt install" sudo apt -y install cppcheck splint python-pip
# splint is not available on Solus
run "instant install" inin in cppcheck python-pip

say "obtaining python prerequisites..."
run "pip update" sudo pip install --upgrade pip
run "pip install" sudo pip install flawfinder

say "obtaining infer..."
warn "TODO"
say "building infer..."
warn "TODO"

say "obtaining very important ASCII art files..."
#run "install figlet" sudo apt -y install figlet
run "install figlet" inin in figlet
mkdir -v -p figlet
safe_cd figlet
run_or_die "download font" curl -L -O "ftp://ftp.figlet.org/pub/figlet/fonts/contributed/chunky.flf"

ok "everything should be good to go!"
